{"code":"// 消息订阅与发布\r\nclass Dispatch {\r\n    constructor() {\r\n        this.list = {};\r\n    }\r\n    on(name, cb) {\r\n        const eventLi = this.list[name] || [];\r\n        eventLi.push(cb);\r\n        this.list[name] = eventLi;\r\n        console.log(this.list);\r\n    }\r\n    emit(name, ...arg) {\r\n        const eventLi = this.list[name];\r\n        if (eventLi) {\r\n            eventLi.forEach(fn => {\r\n                fn.apply(this, arg);\r\n            });\r\n        }\r\n        else {\r\n            console.error(`${name}未知事件`);\r\n        }\r\n    }\r\n    off() {\r\n    }\r\n    once() {\r\n    }\r\n}\r\n// PubSub类比\r\n// PubSub.subscribe('订阅消息名',(a, 传递来的参数 )=>{\r\n//回调\r\n//})\r\n/**\r\n * PubSub.publish('订阅消息名', ...携带参数 )\r\n *\r\n *\r\n *\r\n */\r\nconst test = new Dispatch();\r\ntest.on('post', (arg) => {\r\n    console.log(arg);\r\n});\r\ntest.emit('post', 1, false, '111');\r\n//# sourceMappingURL=index.js.map","references":[],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/index.ts\"],\"names\":[],\"mappings\":\"AAAA,UAAU;AAcV,MAAM,QAAQ;IAEV;QACI,IAAI,CAAC,IAAI,GAAG,EAAE,CAAA;IAClB,CAAC;IACD,EAAE,CAAC,IAAW,EAAC,EAAW;QACtB,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAA;QACrC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;QAChB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,OAAO,CAAA;QACzB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IACD,IAAI,CAAC,IAAW,EAAC,GAAG,GAAc;QAC9B,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QAC/B,IAAG,OAAO,EAAC;YACP,OAAO,CAAC,OAAO,CAAC,EAAE,CAAA,EAAE;gBAChB,EAAE,CAAC,KAAK,CAAC,IAAI,EAAC,GAAG,CAAC,CAAA;YACtB,CAAC,CAAC,CAAA;SACL;aAAM;YACH,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,MAAM,CAAC,CAAA;SAC/B;IACL,CAAC;IACD,GAAG;IAEH,CAAC;IACD,IAAI;IAEJ,CAAC;CACJ;AAED,WAAW;AAEX,2CAA2C;AACvC,IAAI;AACR,IAAI;AAGJ;;;;;GAKG;AAGH,MAAM,IAAI,GAAG,IAAI,QAAQ,EAAE,CAAA;AAE3B,IAAI,CAAC,EAAE,CAAC,MAAM,EAAC,CAAC,GAAG,EAAC,EAAE;IAClB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACrB,CAAC,CAAC,CAAA;AAEF,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAC,KAAK,EAAC,KAAK,CAAC,CAAA\"}"}
